(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{152:function(e,a,r){"use strict";r.r(a);r(70),r(94),r(32),r(33),r(71),r(27);var t,n,l,i,s,o,c,m,d=r(47),u=r(69),h=r(1),b=[];function v(e,a,r){if(document.querySelector("#email-share-submit").disabled=!0,!t||!n)throw new Error("Attempted to submit a form without formId or referrerContentType");u.a.submitForm(t,[{name:"email",value:e},{name:"referrer_name",value:a},{name:"referral_message",value:r},{name:"referral_content_type",value:n},{name:"referral_article_title",value:document.title.split("|")[0].trim()},{name:"referral_article_link",value:"".concat(window.location.href,"?utm_campaign=referral_campaign&utm_medium=email&utm_source=referral_email")}],{excludeHUTK:!0,onSuccess:function(){analytics.track("static-email_share_submitted",{}),document.querySelector("#email-share-form-container").classList.add("u-hidden"),document.querySelector("#email-share-success").classList.remove("u-hidden")},onError:function(e){var a=document.querySelector("#email-error-message");a.classList.remove("u-hidden");var r=JSON.parse(e),t=r.errors&&r.errors.length&&r.errors[0].errorType;a.innerHTML=u.a.getErrorMessage(t),document.querySelector("#email-share-submit").disabled=!1,analytics.track("static-email_share_error",{error:t||"UNKNOWN"})}})}document.querySelectorAll("[data-share-via-email]").forEach((function(e){b.push(e)})),b.length&&(l='\n<div class="modal-overlay" data-modal="share-via-email">\n   <div class="modal-body" id="email-share-form-container">\n       <p class="modal-body__header">'.concat(Object(h.b)("share-via-email-header"),"</p>\n       <p>").concat(Object(h.b)("share-via-email-cta"),'</p>\n        <form action="" id="email-share-form">\n        \n            <div class="form-group">\n             <label for="email-share-your-name">\n                 ').concat(Object(h.b)("share-via-email-name-label"),'\n             </label>\n             <input class="input" type="text" id="email-share-your-name" name="email" placeholder="').concat(Object(h.b)("share-via-email-name-placeholder"),'">\n             <div id="name-error-message" class="u-hidden h3d-button--no-outline-danger">').concat(Object(h.b)("share-via-email-name-error"),'</div>\n          </div>\n          \n          <div class="form-group">\n             <label for="email-share-email">\n                 ').concat(Object(h.b)("share-via-email-to-label"),'\n             </label>\n             <input class="input" type="text" id="email-share-email" name="email" placeholder="').concat(Object(h.b)("share-via-email-to-placeholder"),'">\n             <small>').concat(Object(h.b)("share-via-email-to-explanation"),'</small>\n             <div id="email-error-message" class="u-hidden h3d-button--no-outline-danger">').concat(Object(h.b)("share-via-email-to-error"),'</div>\n          </div>\n          \n          <div class="form-group">\n             <label for="email-share-message">\n                 ').concat(Object(h.b)("share-via-email-message-label"),'\n             </label>\n             <textarea class="input" id="email-share-message" name="email" placeholder="').concat(Object(h.b)("share-via-email-message-placeholder"),'"></textarea>\n          </div>\n          \n          <div class="h3d-button-group h3d-button-group--right">\n              <button class="h3d-button h3d-button--outline h3d-button--s" data-modal-close id="email-share-dismiss">').concat(Object(h.b)("share-via-email-close-cta"),'</button>\n              <button class="h3d-button h3d-button--s h3d-button--primary" id="email-share-submit">').concat(Object(h.b)("share-via-email-primary-cta"),'</button>\n          </div>\n       </form>\n   </div>\n   <div class="modal-body u-hidden" id="email-share-success">\n      <p class="modal-body__header">').concat(Object(h.b)("share-via-email-success-cta"),"</p>\n      <p>").concat(Object(h.b)("share-via-email-success-message"),'</p>\n      <div class="h3d-button-group h3d-button-group--right">\n        <button class="h3d-button h3d-button--outline h3d-button--s" data-modal-close id="email-share-close">').concat(Object(h.b)("share-via-email-success-close-cta"),"</button>\n      </div>\n   </div>\n</div>\n"),(i=document.createElement("div")).innerHTML=l.trim(),document.body.appendChild(i.firstChild),b.forEach((function(e){var a=document.querySelector("[data-modal=share-via-email]");Object(d.a)(e,a,{onOpen:function(e){t=e.getAttribute("data-share-via-email-form-id"),n=e.getAttribute("data-share-via-email-referral-content-type"),analytics.track("static-email_share_modal_open",{}),document.querySelector("#name-error-message").classList.add("u-hidden"),document.querySelector("#email-error-message").classList.add("u-hidden")}})})),s=document.querySelector("#email-share-form"),o=document.querySelector("#email-share-email"),c=document.querySelector("#email-share-your-name"),m=document.querySelector("#email-share-message"),s.addEventListener("submit",(function(e){e.preventDefault(),c.value?o.value&&o.value.includes("@")?o.value.includes(",")||o.value.includes(";")?(o.value=o.value.replace(";",","),o.value.split(",").slice(0,10).forEach((function(e){e.includes("@")&&v(e.trim(),c.value,m.value)}))):v(o.value.trim(),c.value,m.value):document.querySelector("#email-error-message").classList.remove("u-hidden"):document.querySelector("#name-error-message").classList.remove("u-hidden")})))}}]);